Dans un terminal connecté en ssh à la vm, je lance la commande 'top':
(qui génère un processus que l'on appelera processus 'top')
[romain.pereira@vm0 ~]$ top

Dans un autre terminal, je récupère le PID du processus 'top'
[romain.pereira@vm0 ~]$ ps -aux | grep top
romain.+  1472  0.0  0.0 161940  2188 pts/1    S+   09:10   0:00 top

Je génère un corefile pour ce processus:
[romain.pereira@vm0 ~]$ gcore 1472
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib64/libthread_db.so.1".
0x00007f89eb70dceb in pselect () from /lib64/libc.so.6
Saved corefile core.1472
[romain.pereira@vm0 ~]$ ls
core.1472

Je lance gdb avec le corefile:
[romain.pereira@vm0 ~]$ gdb top core.1472 -q
Reading symbols from /usr/bin/top...Reading symbols from /usr/bin/top...(no debugging symbols found)...done.
(no debugging symbols found)...done.
[New LWP 1472]
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib64/libthread_db.so.1".
Core was generated by `top'.
#0  0x00007f89eb70dceb in pselect () from /lib64/libc.so.6
Missing separate debuginfos, use: debuginfo-install procps-ng-3.3.10-17.el7_5.2.x86_64
(gdb) info stack
#0  0x00007f89eb70dceb in pselect () from /lib64/libc.so.6
#1  0x00000000004034c1 in main ()

'pselect' est une fonction qui permet de faire de l'I/O (c.f l'interface de 'top')
Le processus est entrain d'attendre une entrée dans la fonction 'pselect'
https://linux.die.net/man/2/pselect

Je quitte gdb:
(gdb) quit
